{% extends 'ex/base.html' %}
{% load static %}
{% load bootstrap5 %}

{% block title %}
Index page
{% endblock title %}

{% block body %}
  <div class="row justify-content-center">
    <div class="col-12 col-sm-10 col-md-10 col-lg-10">

      <table class="table table-striped table-hover">
        <thead class="thead-light">
          <tr>
            {% comment %} <th scope="col">Id</th> {% endcomment %}
            <th scope="col">Title</th>
            <th scope="col">Author</th>
            <th scope="col">Created</th>
            <th scope="col">When</th>
            <th scope="col">Synopsis</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for article in object_list %}
            <tr>
              {% comment %} <th scope="row">{{ article.id }}</th> {% endcomment %}
              <td class="col-2">{{ article.title }}</td>
              <td>{{ article.author }}</td>
              <td>{{ article.created }}</td>
              <td>{{ article.created|truncatechars:20 }}</td>
              <td>{{ article.synopsis }}</td>
              <td>
                <a href="{% url 'ex:detail' article.id %}" class="btn btn-info">Read</a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      {% if user.is_authenticated %}
        <a href="{% url 'ex:publish' %}" class="btn btn-primary btn active" role="button">Add new article</a>
      {% endif %}

    </div>
  </div>
{% endblock body %}

